# 5. Top K Frequent Elements

https://leetcode.com/problems/top-k-frequent-elements/description/

Given an integer array `nums` and an integer `k`, return the `k` most frequent elements. You may return the answer in any order.

# Solution

## Min-Heap

1. Create a frequency map which counts the number of times each number appears.
2. Start with an empty min-heap.
3. For each number in the frequency map:
    1. Push `(count, num)` onto the heap.
    2. If `len(heap) > k`, pop once to remove the smallest frequency.
    3. After the whole thing, there will be only `k` numbers left, all of the `k` highest frequencies.
4. Pop all elements from the heap, which corresponds to the `k` numbers with the highest frequencies.

```py
class Solution:
    def topKFrequent(self, nums: List[int], k: int) -> List[int]:
        heap = []
        count = Counter(nums)

        for num, count in count.items():
            heapq.heappush(heap, (count, num))
            if len(heap) > k:
                heapq.heappop(heap)

        result = []
        for i in range(k):
            _, num = heapq.heappop(heap)
            result.append(num)

        return result
```

For a list of $N$ `nums`:
- Time complexity: $O(n \log k)$
- Space complexity: $O(n + k)$

## Bucket Sort

1. Count all the frequencies of each number in `counts`.
2. Initialise a `frequencies` array. `frequencies[i]` is a list of all numbers that occur `i` times in `nums`. A number can occur at most `len(nums)` times, so `frequencies` should have a lenght of `len(nums) + 1`.
3. Iterate from the back to the front of `frequencies` (highest frequency to lowest), and add them to `result`. When `len(result) == k`, we have our final answer, and can return `result`.

```py
class Solution:
    def topKFrequent(self, nums: List[int], k: int) -> List[int]:
        counts = Counter(nums)

        frequencies = [[] for _ in range(len(nums) + 1)]
        for num, count in counts.items():
            frequencies[count].append(num)

        result = []
        for i in range(len(frequencies) - 1, 0, -1):
            for num in frequencies[i]:
                result.append(num)

                if len(result) == k:
                    return result

        return []
```

- Time complexity: $O(N)$
- Space complexity: $O(N)$