# 6. Encode and Decode Strings

https://leetcode.com/problems/encode-and-decode-strings/description/

Design an algorithm to encode a list of strings to a single string. The encoded string is then decoded back to the original list of strings.

Please implement `encode` and `decode`.

# Solution

Key insights:
1. Encoding: Each string will be added to the final result in the format `"{len(s)}{SEPARATOR}{s}"`, where `s` is the current string, `len(s)` is the length of the string, and `SEPARATOR` is used to denote the length section of the current string. This is because, a string can have an arbitrary length, and the length of a string can be any number of digits (e.g. "a" has length 1, "aaaaaaaaaa" has length 10). 

    For example: ["bb", "aaaaaaaaaa", "c"] would be encoded as `"2$bb10$aaaaaaaaaa1$c"`, where `$` is the separator.
2. Decoding: We extract the length of the current string by reading until we reach the separator. Then we can take the next part of the string and add it to the list. Repeat until we processed the entire string.

The process would look like this:

## Encoding

1. Initialise the empty `result` string.
2. For each string in the list, 
   1. Compute the length of the string.
   2. Append `"{length}{SEPARATOR}{string}"` to the result.
3. Return the final encoded string.

## Decoding

1. Intialise the empty list for the decoded strings, and a pointer `i = 0` to denote the current index in `s` we are looking at.
2. While `i` is within the bounds of the encoded string:
   1. Move `i` forward until it finds the separator - Everything from the beginning until here is the string that represents the length.
   2. Convert this part of the string into an integer, to find the length.
   3. Move `i` to the character immediately after the separator.
   4. Extract the next `length` characters, which is the original string.
   5. Append to the result list
   6. Move `i` forward by `length` to continue to decode the next segment
3. Return the list of decoded strings

```py
SEPARATOR = "$"

class Solution:
    def encode(self, strs: List[str]) -> str:
        return "".join(f"{len(s)}{SEPARATOR}{s}" for s in strs)

    def decode(self, s: str) -> List[str]:
        i = 0
        result = []

        while i < len(s):
            sizeStr = ""
            while s[i] != SEPARATOR: # Extract string until separator
                sizeStr += s[i]
                i += 1
            
            size = int(sizeStr) # sizeStr will be the length to extract
            i += 1 # Move past the separator
            result.append(s[i:i + size]) # Get the extracted substring
            i += size # Go to the next segment

        return result
```

For $M$ as the sum of lengths of all the strings, and $N$ as the number of strings:
- Time complexity: $O(M)$ for each `encode` and `decode`.
- Space complexity: $O(M + N)$ for each `encode` and `decode`.